#!/bin/bash
# takes 0 or 1 input arguments
# no output
# file input.txt is input; output.txt is output

# if directory name is provided as an argument (in parallel mode), execute in that directory, otherwise execute right here
if [ "$1" != "" ] && ls $1 > /dev/null
then
	cd $1
fi

echo "# this is the output generated by demo_evaluation_funct.sh" > output.txt
cat input.txt | awk 'BEGIN{a=0} {if (substr($1, 1, 1) != "#") a += $1*$1 " ";}END{print a}' >> output.txt
